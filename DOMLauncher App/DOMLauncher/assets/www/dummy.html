<!DOCTYPE html>

<html>
    
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        
        <title>CHome</title>
        
        <script type="text/javascript" src="cordova-2.1.0.js"></script>  
        <script type="text/javascript" src="js/launch.js"></script>  
        <script type="text/javascript" src="js/test.js"></script>  
        <script type="text/javascript" src="js/airplane.js"></script>  
        <script type="text/javascript" src="js/applist.js"></script>  
        <script type="text/javascript" src="js/fullscreentoggle.js"></script>  
        <script type="text/javascript" src="js/wifitoggler.js"></script>  
        <script type="text/javascript" src="js/wifisignalgetter.js"></script>  
        <script type="text/javascript" src="js/volumecontrols.js"></script>  
        <script type="text/javascript" src="js/cellularsignalgetter.js"></script>  
        <script type="text/javascript" src="js/mobiledatatoggler.js"></script>  
        <script type="text/javascript" src="js/simplesave.js"></script>  
        <script type="text/javascript" src="js/missedcommunications.js"></script>  
        <link rel="stylesheet" id="iconsCss" href="file:///mnt/sdcard/DOMLauncher/icons/icons.css" type="text/css" media="screen" charset="utf-8" />
        <link rel="stylesheet" media="screen and (-webkit-device-pixel-ratio: 0.75)" href="css/ldpi.css" />
        <link rel="stylesheet" media="screen and (-webkit-device-pixel-ratio: 1.0)" href="css/mdpi.css" />
        <link rel="stylesheet" media="screen and (-webkit-device-pixel-ratio: 1.5)" href="css/hdpi.css" />
        <link rel="stylesheet" media="screen and (-webkit-device-pixel-ratio: 2.0)" href="css/xhdpi.css" />		
		<script src="js/jquery-1.8.1.min.js"></script>
        <!--<script src="js/jquery-ui-1.8.23.custom.min.js"></script>-->        
		<script src="js/functions.js"></script>
        <script>
        
			function onLoad() {document.addEventListener("deviceready", deviceReady, false);}
			
			function deviceReady() { 
		refreshIcons();
			window.plugins.applist.show({refreshIcons:true}, 
				function(appList) {//appList is a JSON Object needing to be parsed.
					applistCallback(appList);	
			}, // Success function
			function() {alert('Loading App List Failed')}); // Failure function
			
			
			}

			$(document).on('click', '*[appLaunch], *[settings]', function() {
				launchApps(this);
			});
	
        function applistCallback(appList){
				//Parse the appList
					appListArray = JSON.parse(appList);
					//For each item in the JSON Array
						// @ appName - Application Name ('DOMLauncher')
						// @ appLaunch - Package class name ('com.awaa.domlauncher')
						// @ appActivity - Acivity Intent ('.DialtactsContactsEntryActivity')
					$appPanel = $('.appPanel');
					$.each(appListArray, function(e) {
						var appName = this.name
						var appLaunch = this.package
						var appActivity = this.intent
						
						if(this.package === "com.android.settings"){
							$appPanel.append('<div class="app" appLaunch="com.android.settings" appActivity=".Settings" appName="'+appName+'"><span>'+appName+'</span></div>');
							$appPanel.append('<a href="tel:" class="app dialer" appName="default_Dialer"><span>Dialer</span></a>');
						}else if(this.package === "com.android.contacts"){
							$appPanel.append('<div class="app" appLaunch="com.android.contacts" appActivity=".DialtactsContactsEntryActivity" appName="'+appName+'"><span>'+appName+'</span></div>');
						}else{
							$appPanel.append('<div class="app" appLaunch="'+appLaunch+'" appActivity="'+appActivity+'" appName="'+appName+'"><span>'+appName+'</span></div>');
						}
						 appName = null
						 appLaunch = null
						 appActivity = null
					});
				
				
					appListArray = null;
					$appPanel = null
					
}



        </script>
   <style>
   .app{
		background-position:left top;
		background-repeat:no-repeat;
		background-size:100% 100%;
		position:relative;
		display: inline-block; 
	}  
	.app span
	{
		position:absolute;
		text-align:center;
		overflow: hidden;
		white-space:nowrap;
		text-overflow:ellipsis;
		background-color:rgba(0,0,0,.75);
		color:white;
		bottom:-25px;
		left:0px;
		right:0px;
	}
		*[appName="default_Dialer"]
            {
                background-image:url(img/icon_Dialer.png);
                text-decoration:none;
                color:inherit;	   
            }
            *[appName="doml_Settings"]
            {
                background-image:url(file:///data/data/com.awaa.domlauncher/icons/com.android.settings.png);
                text-decoration:none;
                color:inherit;	   
            }

    </style>
    </head>
    
    <body onLoad="onLoad()">

        <span style="font-size:24px;"> DOMLauncher  </span>
    
        	<h1>WOAH!</h1>
            <p>Well it looks like your external SDCARD is mounted!.  This is a dummy area which stays non-fullscreen and allows access to your apps.  Unmount your external sdcard and reload DOMLauncher.</p>
          
       
        	<h1>Icon Cache</h1>
            <p>The Icon Cache is the folder 'icons' in the DOMLauncher folder.  Here all installed applications have their icon exported in the png format.  There is also an auto-generated css file holding the standard DOMLauncher references for easy icon placement within the UI Plugins.</p>
            <input type="button" value="Rebuild Cache" onClick="refreshIcons()"/>
          
        
        
        	<h1>Exit App</h1>
            <p>So the app does not get stuck in a loop, and incase a device does not have a 'back' button, tap this button to exit.  Hit your home button to relauch DOMLauncher afterwards. </p>
             <input type="button" value="Exit App" onClick="navigator.app.exitApp();"/>
             
             
             <div class="appPanel" style="text-align:center;"></div>
   
</body>

</html>
